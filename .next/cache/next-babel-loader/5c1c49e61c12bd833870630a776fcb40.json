{"ast":null,"code":"import api from '../config/tmdb-api.json';\nimport { postWithBody } from './ApiRequest';\n\nasync function createRequestToken() {\n  try {\n    const requestToken = await postWithBody({\n      url: \"https://api.themoviedb.org/4/auth/request_token?api_key=cbdc69d1fd1a96c48e45fa67e4180d07\",\n      method: 'POST',\n      authorization: `${api.api_bearer}`,\n      redirect_url: \"http://localhost:3000/auth/auth-success\"\n    });\n    return requestToken;\n  } catch (err) {\n    throw err;\n  }\n}\n\nasync function createAccessToken(requestToken) {\n  try {\n    const accessToken = await postWithBody({\n      url: api.access_token,\n      method: 'POST',\n      authorization: `${api.api_bearer}`,\n      request_token: requestToken\n    });\n    return accessToken;\n  } catch (err) {\n    throw err;\n  }\n}\n\nasync function createSessionId(access_token) {\n  try {\n    const sessionId = await postWithBody({\n      url: api.session_id,\n      method: 'POST',\n      access_token: access_token\n    });\n    return sessionId;\n  } catch (err) {\n    throw err;\n  }\n}\n\nexport { createRequestToken, createAccessToken, createSessionId };","map":{"version":3,"sources":["/home/mihajlot/movie-app-test/services/auth-service.js"],"names":["api","postWithBody","createRequestToken","requestToken","url","method","authorization","api_bearer","redirect_url","err","createAccessToken","accessToken","access_token","request_token","createSessionId","sessionId","session_id"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,yBAAhB;AACA,SAASC,YAAT,QAA6B,cAA7B;;AAEA,eAAeC,kBAAf,GAAoC;AAChC,MAAI;AACA,UAAMC,YAAY,GAAG,MAAMF,YAAY,CAAC;AACpCG,MAAAA,GAAG,EAAE,0FAD+B;AAEpCC,MAAAA,MAAM,EAAE,MAF4B;AAGpCC,MAAAA,aAAa,EAAG,GAAEN,GAAG,CAACO,UAAW,EAHG;AAIpCC,MAAAA,YAAY,EAAE;AAJsB,KAAD,CAAvC;AAMA,WAAOL,YAAP;AACH,GARD,CAQE,OAAOM,GAAP,EAAY;AACV,UAAMA,GAAN;AACH;AACJ;;AAED,eAAeC,iBAAf,CAAiCP,YAAjC,EAA+C;AAC3C,MAAI;AACA,UAAMQ,WAAW,GAAG,MAAMV,YAAY,CAAC;AACnCG,MAAAA,GAAG,EAAEJ,GAAG,CAACY,YAD0B;AAEnCP,MAAAA,MAAM,EAAE,MAF2B;AAGnCC,MAAAA,aAAa,EAAG,GAAEN,GAAG,CAACO,UAAW,EAHE;AAInCM,MAAAA,aAAa,EAAEV;AAJoB,KAAD,CAAtC;AAMA,WAAOQ,WAAP;AACH,GARD,CAQE,OAAOF,GAAP,EAAY;AACV,UAAMA,GAAN;AACH;AACJ;;AAED,eAAeK,eAAf,CAA+BF,YAA/B,EAA6C;AACzC,MAAI;AACA,UAAMG,SAAS,GAAG,MAAMd,YAAY,CAAC;AACjCG,MAAAA,GAAG,EAAEJ,GAAG,CAACgB,UADwB;AAEjCX,MAAAA,MAAM,EAAE,MAFyB;AAGjCO,MAAAA,YAAY,EAAEA;AAHmB,KAAD,CAApC;AAKA,WAAOG,SAAP;AACH,GAPD,CAOE,OAAON,GAAP,EAAY;AACV,UAAMA,GAAN;AACH;AACJ;;AAED,SACIP,kBADJ,EAEIQ,iBAFJ,EAGII,eAHJ","sourcesContent":["import api from '../config/tmdb-api.json';\nimport { postWithBody } from './ApiRequest';\n\nasync function createRequestToken() {\n    try {\n        const requestToken = await postWithBody({\n            url: \"https://api.themoviedb.org/4/auth/request_token?api_key=cbdc69d1fd1a96c48e45fa67e4180d07\",\n            method: 'POST',\n            authorization: `${api.api_bearer}`,\n            redirect_url: \"http://localhost:3000/auth/auth-success\" \n        })\n        return requestToken;\n    } catch (err) {\n        throw err;\n    }\n}\n\nasync function createAccessToken(requestToken) {\n    try {\n        const accessToken = await postWithBody({\n            url: api.access_token,\n            method: 'POST',\n            authorization: `${api.api_bearer}`,\n            request_token: requestToken\n        })\n        return accessToken;\n    } catch (err) {\n        throw err;\n    }\n}\n\nasync function createSessionId(access_token) {\n    try {\n        const sessionId = await postWithBody({\n            url: api.session_id,\n            method: 'POST',\n            access_token: access_token\n        })\n        return sessionId\n    } catch (err) {\n        throw err;\n    }\n}\n\nexport {\n    createRequestToken,\n    createAccessToken,\n    createSessionId\n};"]},"metadata":{},"sourceType":"module"}